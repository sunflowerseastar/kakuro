(ns kakuro.boards)

(def b0 [[{:type :black :x 0 :y 0}
    {:type :flag :x 1 :y 0 :flags {:down {:sum 4 :distance 2} :right {:sum 0 :distance nil}}}
    {:type :flag :x 2 :y 0 :flags {:down {:sum 6 :distance 2} :right {:sum 0 :distance nil}}}]
   [{:type :flag :x 0 :y 1 :flags {:down {:sum 0 :distance nil} :right {:sum 3 :distance 2}}}
    {:type :entry :x 1 :y 1}
    {:type :entry :x 2 :y 1}]
   [{:type :flag :x 0 :y 2 :flags {:down {:sum 0 :distance nil} :right {:sum 7 :distance 2}}}
    {:type :entry :x 1 :y 2}
    {:type :entry :x 2 :y 2}]])

;; yes
(def b1 [[{:type :black, :x 0, :y 0, :value nil} {:type :flag, :x 1, :y 0, :flags {:down {:sum 16, :distance 2}, :right {:sum 0, :distance nil}}, :value nil} {:type :flag, :x 2, :y 0, :flags {:down {:sum 9, :distance 2}, :right {:sum 0, :distance nil}}, :value nil} {:type :black, :x 3, :y 0, :value nil} {:type :black, :x 4, :y 0, :value nil} {:type :flag, :x 5, :y 0, :flags {:down {:sum 17, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 6, :y 0, :flags {:down {:sum 19, :distance nil}, :right {:sum 0, :distance nil}}} {:type :black, :x 7, :y 0, :value nil} {:type :flag, :x 8, :y 0, :flags {:down {:sum 3, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 9, :y 0, :flags {:down {:sum 16, :distance nil}, :right {:sum 0, :distance nil}}} {:type :black, :x 10, :y 0, :value nil} {:type :flag, :x 11, :y 0, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 12, :y 0, :flags {:down {:sum 20, :distance nil}, :right {:sum 0, :distance nil}}} {:type :black, :x 13, :y 0, :value nil}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance 2}}, :value nil} {:type :entry, :x 1, :y 1, :value nil} {:type :entry, :x 2, :y 1, :value nil} {:type :flag, :x 3, :y 1, :flags {:down {:sum 5, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance nil}, :right {:sum 11, :distance nil}}} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil} {:type :flag, :x 7, :y 1, :flags {:down {:sum 0, :distance nil}, :right {:sum 3, :distance nil}}} {:type :entry, :x 8, :y 1, :value nil} {:type :entry, :x 9, :y 1, :value nil} {:type :flag, :x 10, :y 1, :flags {:down {:sum 19, :distance nil}, :right {:sum 6, :distance nil}}} {:type :entry, :x 11, :y 1, :value nil} {:type :entry, :x 12, :y 1, :value nil} {:type :flag, :x 13, :y 1, :flags {:down {:sum 10, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance nil}, :right {:sum 13, :distance 2}}, :value nil} {:type :entry, :x 1, :y 2, :value nil} {:type :entry, :x 2, :y 2, :value nil} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 3, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil} {:type :flag, :x 7, :y 2, :flags {:down {:sum 10, :distance nil}, :right {:sum 35, :distance nil}}} {:type :entry, :x 8, :y 2, :value nil} {:type :entry, :x 9, :y 2, :value nil} {:type :entry, :x 10, :y 2, :value nil} {:type :entry, :x 11, :y 2, :value nil} {:type :entry, :x 12, :y 2, :value nil} {:type :entry, :x 13, :y 2, :value nil}] [{:type :black, :y 3, :x 0, :value nil} {:type :flag, :x 1, :y 3, :flags {:down {:sum 11, :distance nil}, :right {:sum 0, :distance nil}}, :value nil} {:type :flag, :x 2, :y 3, :flags {:down {:sum 3, :distance nil}, :right {:sum 3, :distance nil}}, :value nil} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 15, :distance nil}, :right {:sum 17, :distance nil}}} {:type :entry, :x 6, :y 3, :value nil} {:type :entry, :x 7, :y 3, :value nil} {:type :flag, :x 8, :y 3, :flags {:down {:sum 37, :distance nil}, :right {:sum 17, :distance nil}}} {:type :entry, :x 9, :y 3, :value nil} {:type :entry, :x 10, :y 3, :value nil} {:type :flag, :x 11, :y 3, :flags {:down {:sum 7, :distance nil}, :right {:sum 5, :distance nil}}} {:type :entry, :x 12, :y 3, :value nil} {:type :entry, :x 13, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance nil}, :right {:sum 11, :distance nil}}} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 8, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 31, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 7, :y 4, :value nil} {:type :entry, :x 8, :y 4, :value nil} {:type :flag, :x 9, :y 4, :flags {:down {:sum 9, :distance nil}, :right {:sum 9, :distance nil}}} {:type :entry, :x 10, :y 4, :value nil} {:type :entry, :x 11, :y 4, :value nil} {:type :entry, :x 12, :y 4, :value nil} {:type :black, :x 13, :y 4, :value nil}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 12, :distance nil}, :right {:sum 13, :distance nil}}} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil} {:type :flag, :x 7, :y 5, :flags {:down {:sum 8, :distance nil}, :right {:sum 21, :distance nil}}} {:type :entry, :x 8, :y 5, :value nil} {:type :entry, :x 9, :y 5, :value nil} {:type :entry, :x 10, :y 5, :value nil} {:type :entry, :x 11, :y 5, :value nil} {:type :flag, :x 12, :y 5, :flags {:down {:sum 3, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 5, :flags {:down {:sum 11, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :black, :y 6, :x 0, :value nil} {:type :flag, :x 1, :y 6, :flags {:down {:sum 15, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 2, :y 6, :flags {:down {:sum 9, :distance nil}, :right {:sum 34, :distance nil}}} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil} {:type :entry, :x 7, :y 6, :value nil} {:type :entry, :x 8, :y 6, :value nil} {:type :entry, :x 9, :y 6, :value nil} {:type :flag, :x 10, :y 6, :flags {:down {:sum 17, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 11, :y 6, :flags {:down {:sum 19, :distance nil}, :right {:sum 11, :distance nil}}} {:type :entry, :x 12, :y 6, :value nil} {:type :entry, :x 13, :y 6, :value nil}] [{:type :flag, :x 0, :y 7, :flags {:down {:sum 0, :distance nil}, :right {:sum 14, :distance nil}}} {:type :entry, :x 1, :y 7, :value nil} {:type :entry, :x 2, :y 7, :value nil} {:type :entry, :x 3, :y 7, :value nil} {:type :entry, :x 4, :y 7, :value nil} {:type :flag, :x 5, :y 7, :flags {:down {:sum 3, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 6, :y 7, :value nil} {:type :entry, :x 7, :y 7, :value nil} {:type :entry, :x 8, :y 7, :value nil} {:type :flag, :x 9, :y 7, :flags {:down {:sum 22, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 10, :y 7, :value nil} {:type :entry, :x 11, :y 7, :value nil} {:type :entry, :x 12, :y 7, :value nil} {:type :entry, :x 13, :y 7, :value nil}] [{:type :flag, :x 0, :y 8, :flags {:down {:sum 0, :distance nil}, :right {:sum 14, :distance nil}}} {:type :entry, :x 1, :y 8, :value nil} {:type :entry, :x 2, :y 8, :value nil} {:type :flag, :x 3, :y 8, :flags {:down {:sum 14, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 4, :y 8, :flags {:down {:sum 14, :distance nil}, :right {:sum 33, :distance nil}}} {:type :entry, :x 5, :y 8, :value nil} {:type :entry, :x 6, :y 8, :value nil} {:type :entry, :x 7, :y 8, :value nil} {:type :entry, :x 8, :y 8, :value nil} {:type :entry, :x 9, :y 8, :value nil} {:type :entry, :x 10, :y 8, :value nil} {:type :entry, :x 11, :y 8, :value nil} {:type :flag, :x 12, :y 8, :flags {:down {:sum 17, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 8, :flags {:down {:sum 8, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :black, :y 9, :x 0, :value nil} {:type :black, :y 9, :x 1, :value nil} {:type :flag, :x 2, :y 9, :flags {:down {:sum 23, :distance nil}, :right {:sum 14, :distance nil}}} {:type :entry, :x 3, :y 9, :value nil} {:type :entry, :x 4, :y 9, :value nil} {:type :entry, :x 5, :y 9, :value nil} {:type :entry, :x 6, :y 9, :value nil} {:type :flag, :x 7, :y 9, :flags {:down {:sum 16, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 8, :y 9, :value nil} {:type :entry, :x 9, :y 9, :value nil} {:type :flag, :x 10, :y 9, :flags {:down {:sum 8, :distance nil}, :right {:sum 24, :distance nil}}} {:type :entry, :x 11, :y 9, :value nil} {:type :entry, :x 12, :y 9, :value nil} {:type :entry, :x 13, :y 9, :value nil}] [{:type :black, :y 10, :x 0, :value nil} {:type :flag, :x 1, :y 10, :flags {:down {:sum 8, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 2, :y 10, :value nil} {:type :entry, :x 3, :y 10, :value nil} {:type :entry, :x 4, :y 10, :value nil} {:type :flag, :x 5, :y 10, :flags {:down {:sum 10, :distance nil}, :right {:sum 15, :distance nil}}} {:type :entry, :x 6, :y 10, :value nil} {:type :entry, :x 7, :y 10, :value nil} {:type :flag, :x 8, :y 10, :flags {:down {:sum 20, :distance nil}, :right {:sum 6, :distance nil}}} {:type :entry, :x 9, :y 10, :value nil} {:type :entry, :x 10, :y 10, :value nil} {:type :flag, :x 11, :y 10, :flags {:down {:sum 10, :distance nil}, :right {:sum 9, :distance nil}}} {:type :entry, :x 12, :y 10, :value nil} {:type :entry, :x 13, :y 10, :value nil}] [{:type :flag, :x 0, :y 11, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 1, :y 11, :value nil} {:type :entry, :x 2, :y 11, :value nil} {:type :flag, :x 3, :y 11, :flags {:down {:sum 5, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 4, :y 11, :value nil} {:type :entry, :x 5, :y 11, :value nil} {:type :flag, :x 6, :y 11, :flags {:down {:sum 12, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 7, :y 11, :value nil} {:type :entry, :x 8, :y 11, :value nil} {:type :flag, :x 9, :y 11, :flags {:down {:sum 12, :distance nil}, :right {:sum 8, :distance nil}}} {:type :entry, :x 10, :y 11, :value nil} {:type :entry, :x 11, :y 11, :value nil} {:type :flag, :x 12, :y 11, :flags {:down {:sum 13, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 11, :flags {:down {:sum 15, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 28, :distance nil}}} {:type :entry, :x 1, :y 12, :value nil} {:type :entry, :x 2, :y 12, :value nil} {:type :entry, :x 3, :y 12, :value nil} {:type :entry, :x 4, :y 12, :value nil} {:type :entry, :x 5, :y 12, :value nil} {:type :entry, :x 6, :y 12, :value nil} {:type :flag, :x 7, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 8, :y 12, :value nil} {:type :entry, :x 9, :y 12, :value nil} {:type :flag, :x 10, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 21, :distance nil}}} {:type :entry, :x 11, :y 12, :value nil} {:type :entry, :x 12, :y 12, :value nil} {:type :entry, :x 13, :y 12, :value nil}] [{:type :black, :y 13, :x 0, :value nil} {:type :flag, :x 1, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 5, :distance nil}}} {:type :entry, :x 2, :y 13, :value nil} {:type :entry, :x 3, :y 13, :value nil} {:type :flag, :x 4, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 5, :y 13, :value nil} {:type :entry, :x 6, :y 13, :value nil} {:type :flag, :x 7, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 13, :distance nil}}} {:type :entry, :x 8, :y 13, :value nil} {:type :entry, :x 9, :y 13, :value nil} {:type :black, :y 13, :x 10, :value nil} {:type :flag, :x 11, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 12, :y 13, :value nil} {:type :entry, :x 13, :y 13, :value nil}]])
(def ftbs-b1 '([:d 1 0 16 2] [:d 2 0 9 2] [:d 5 0 17 2] [:d 6 0 19 3] [:d 8 0 3 2] [:d 9 0 16 3] [:d 11 0 4 2] [:d 12 0 20 4] [:r 0 1 16 2] [:d 3 1 5 2] [:r 4 1 11 2] [:r 7 1 3 2] [:d 10 1 19 4] [:r 10 1 6 2] [:d 13 1 10 2] [:r 0 2 13 3] [:d 4 2 3 2] [:r 4 2 16 2] [:d 7 2 10 2] [:r 7 2 35 6] [:d 1 3 11 2] [:d 2 3 3 2] [:r 2 3 3 2] [:d 5 3 15 3] [:r 5 3 17 2] [:d 8 3 37 6] [:r 8 3 17 2] [:d 11 3 7 2] [:r 11 3 5 2] [:r 0 4 11 2] [:d 3 4 8 3] [:r 3 4 10 2] [:d 6 4 31 6] [:r 6 4 10 2] [:d 9 4 9 2] [:r 9 4 9 3] [:r 0 5 7 3] [:d 4 5 12 2] [:r 4 5 13 2] [:d 7 5 8 3] [:r 7 5 21 4] [:d 12 5 3 2] [:d 13 5 11 2] [:d 1 6 15 2] [:d 2 6 9 2] [:r 2 6 34 7] [:d 10 6 17 2] [:d 11 6 19 3] [:r 11 6 11 2] [:r 0 7 14 4] [:d 5 7 3 2] [:r 5 7 7 3] [:d 9 7 22 3] [:r 9 7 16 4] [:r 0 8 14 2] [:d 3 8 14 2] [:d 4 8 14 4] [:r 4 8 33 7] [:d 12 8 17 2] [:d 13 8 8 2] [:d 2 9 23 4] [:r 2 9 14 4] [:d 7 9 16 2] [:r 7 9 16 2] [:d 10 9 8 2] [:r 10 9 24 3] [:d 1 10 8 2] [:r 1 10 10 3] [:d 5 10 10 3] [:r 5 10 15 2] [:d 8 10 20 3] [:r 8 10 6 2] [:d 11 10 10 2] [:r 11 10 9 2] [:r 0 11 16 2] [:d 3 11 5 2] [:r 3 11 10 2] [:d 6 11 12 2] [:r 6 11 10 2] [:d 9 11 12 2] [:r 9 11 8 2] [:d 12 11 13 2] [:d 13 11 15 2] [:r 0 12 28 6] [:r 7 12 16 2] [:r 10 12 21 3] [:r 1 13 5 2] [:r 4 13 7 2] [:r 7 13 13 2] [:r 11 13 16 2]))
;; b1-x will make the server hang
(def ftbs-b1-x '([:d 1 0 16 2] [:d 2 0 9 2] [:d 5 0 17 2] [:d 6 0 19 3] [:d 8 0 3 2] [:d 9 0 16 3] [:d 11 0 4 2] [:d 12 0 20 4] [:r 0 1 16 2] [:d 3 1 5 2] [:r 4 1 11 2] [:r 7 1 3 2] [:d 10 1 19 4 :r 10 1 6 2] [:d 13 1 10 2] [:r 0 2 13 3] [:d 4 2 3 2 :r 4 2 16 2] [:d 7 2 10 2 :r 7 2 35 6] [:d 1 3 11 2] [:d 2 3 3 2 :r 2 3 3 2] [:d 5 3 15 3 :r 5 3 17 2] [:d 8 3 37 6 :r 8 3 17 2] [:d 11 3 7 2 :r 11 3 5 2] [:r 0 4 11 2] [:d 3 4 8 3 :r 3 4 10 2] [:d 6 4 31 6 :r 6 4 10 2] [:d 9 4 9 2 :r 9 4 9 3] [:r 0 5 7 3] [:d 4 5 12 2 :r 4 5 13 2] [:d 7 5 8 3 :r 7 5 21 4] [:d 12 5 3 2] [:d 13 5 11 2] [:d 1 6 15 2] [:d 2 6 9 2 :r 2 6 34 7] [:d 10 6 17 2] [:d 11 6 19 3 :r 11 6 11 2] [:r 0 7 14 4] [:d 5 7 3 2 :r 5 7 7 3] [:d 9 7 22 3 :r 9 7 16 4] [:r 0 8 14 2] [:d 3 8 14 2] [:d 4 8 14 4 :r 4 8 33 7] [:d 12 8 17 2] [:d 13 8 8 2] [:d 2 9 23 4 :r 2 9 14 4] [:d 7 9 16 2 :r 7 9 16 2] [:d 10 9 8 2 :r 10 9 24 3] [:d 1 10 8 2 :r 1 10 10 3] [:d 5 10 10 3 :r 5 10 15 2] [:d 8 10 20 3 :r 8 10 6 2] [:d 11 10 10 2 :r 11 10 9 2] [:r 0 11 16 2] [:d 3 11 5 2 :r 3 11 10 2] [:d 6 11 12 2 :r 6 11 10 2] [:d 9 11 12 2 :r 9 11 8 2] [:d 12 11 13 2] [:d 13 11 15 2] [:r 0 12 28 6] [:r 7 12 16 2] [:r 10 12 21 3] [:r 1 13 5 2] [:r 4 13 7 2] [:r 7 13 13 2] [:r 11 13 16 2]))

(def b1-2 [[{:type :black, :x 0, :y 0, :value nil} {:type :flag, :x 1, :y 0, :flags {:down {:sum 16, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 0, :flags {:down {:sum 9, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 3, :y 0, :value nil} {:type :black, :x 4, :y 0, :value nil} {:type :flag, :x 5, :y 0, :flags {:down {:sum 17, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 6, :y 0, :flags {:down {:sum 19, :distance 3}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 7, :y 0, :value nil} {:type :flag, :x 8, :y 0, :flags {:down {:sum 3, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 9, :y 0, :flags {:down {:sum 16, :distance 3}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 10, :y 0, :value nil} {:type :flag, :x 11, :y 0, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 12, :y 0, :flags {:down {:sum 20, :distance nil}, :right {:sum 0, :distance nil}}} {:type :black, :x 13, :y 0}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 16, :distance 2}}, :value nil} {:type :entry, :x 1, :y 1, :value nil} {:type :entry, :x 2, :y 1, :value nil} {:type :flag, :x 3, :y 1, :flags {:down {:sum 5, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 11, :distance 2}}, :value nil} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil} {:type :flag, :x 7, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 8, :y 1, :value nil} {:type :entry, :x 9, :y 1, :value nil} {:type :flag, :x 10, :y 1, :flags {:down {:sum 19, :distance 4}, :right {:sum 6, :distance 0}}, :value nil} {:type :entry, :x 11, :y 1, :value nil} {:type :entry, :x 12, :y 1, :value nil} {:type :flag, :x 13, :y 1, :flags {:down {:sum 10, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 13, :distance 3}}, :value nil} {:type :entry, :x 1, :y 2, :value nil} {:type :entry, :x 2, :y 2, :value nil} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 3, :distance 2}, :right {:sum 16, :distance 2}}, :value nil} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil} {:type :flag, :x 7, :y 2, :flags {:down {:sum 10, :distance 2}, :right {:sum 35, :distance 3}}, :value nil} {:type :entry, :x 8, :y 2, :value nil} {:type :entry, :x 9, :y 2, :value nil} {:type :entry, :x 10, :y 2, :value nil} {:type :entry, :x 11, :y 2, :value nil} {:type :entry, :x 12, :y 2, :value nil} {:type :entry, :x 13, :y 2, :value nil}] [{:type :black, :y 3, :x 0, :value nil} {:type :flag, :x 1, :y 3, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 3, :flags {:down {:sum 3, :distance 2}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 15, :distance 3}, :right {:sum 17, :distance 2}}, :value nil} {:type :entry, :x 6, :y 3, :value nil} {:type :entry, :x 7, :y 3, :value nil} {:type :flag, :x 8, :y 3, :flags {:down {:sum 37, :distance 6}, :right {:sum 17, :distance 2}}, :value nil} {:type :entry, :x 9, :y 3, :value nil} {:type :entry, :x 10, :y 3, :value nil} {:type :flag, :x 11, :y 3, :flags {:down {:sum 7, :distance nil}, :right {:sum 5, :distance nil}}} {:type :entry, :x 12, :y 3, :value nil} {:type :entry, :x 13, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 11, :distance 2}}, :value nil} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 8, :distance 3}, :right {:sum 10, :distance 2}}, :value nil} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 31, :distance 6}, :right {:sum 10, :distance 2}}, :value nil} {:type :entry, :x 7, :y 4, :value nil} {:type :entry, :x 8, :y 4, :value nil} {:type :flag, :x 9, :y 4, :flags {:down {:sum 9, :distance 2}, :right {:sum 9, :distance 1}}, :value nil} {:type :entry, :x 10, :y 4, :value nil} {:type :entry, :x 11, :y 4, :value nil} {:type :entry, :x 12, :y 4, :value nil} {:type :black, :x 13, :y 4}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance 0}, :right {:sum 7, :distance 3}}, :value nil} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 12, :distance 2}, :right {:sum 13, :distance 2}}, :value nil} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil} {:type :flag, :x 7, :y 5, :flags {:down {:sum 8, :distance 3}, :right {:sum 21, :distance 3}}, :value nil} {:type :entry, :x 8, :y 5, :value nil} {:type :entry, :x 9, :y 5, :value nil} {:type :entry, :x 10, :y 5, :value nil} {:type :entry, :x 11, :y 5, :value nil} {:type :flag, :x 12, :y 5, :flags {:down {:sum 3, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 5, :flags {:down {:sum 11, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :black, :y 6, :x 0, :value nil} {:type :flag, :x 1, :y 6, :flags {:down {:sum 15, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 6, :flags {:down {:sum 9, :distance 2}, :right {:sum 34, :distance 7}}, :value nil} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil} {:type :entry, :x 7, :y 6, :value nil} {:type :entry, :x 8, :y 6, :value nil} {:type :entry, :x 9, :y 6, :value nil} {:type :flag, :x 10, :y 6, :flags {:down {:sum 17, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 11, :y 6, :flags {:down {:sum 19, :distance nil}, :right {:sum 11, :distance nil}}} {:type :entry, :x 12, :y 6, :value nil} {:type :entry, :x 13, :y 6, :value nil}] [{:type :flag, :x 0, :y 7, :flags {:down {:sum 0, :distance 0}, :right {:sum 14, :distance 4}}, :value nil} {:type :entry, :x 1, :y 7, :value nil} {:type :entry, :x 2, :y 7, :value nil} {:type :entry, :x 3, :y 7, :value nil} {:type :entry, :x 4, :y 7, :value nil} {:type :flag, :x 5, :y 7, :flags {:down {:sum 3, :distance 2}, :right {:sum 7, :distance 3}}, :value nil} {:type :entry, :x 6, :y 7, :value nil} {:type :entry, :x 7, :y 7, :value nil} {:type :entry, :x 8, :y 7, :value nil} {:type :flag, :x 9, :y 7, :flags {:down {:sum 22, :distance 3}, :right {:sum 16, :distance 1}}, :value nil} {:type :entry, :x 10, :y 7, :value nil} {:type :entry, :x 11, :y 7, :value nil} {:type :entry, :x 12, :y 7, :value nil} {:type :entry, :x 13, :y 7, :value nil}] [{:type :flag, :x 0, :y 8, :flags {:down {:sum 0, :distance 0}, :right {:sum 14, :distance 2}}, :value nil} {:type :entry, :x 1, :y 8, :value nil} {:type :entry, :x 2, :y 8, :value nil} {:type :flag, :x 3, :y 8, :flags {:down {:sum 14, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 4, :y 8, :flags {:down {:sum 14, :distance 2}, :right {:sum 33, :distance 6}}, :value nil} {:type :entry, :x 5, :y 8, :value nil} {:type :entry, :x 6, :y 8, :value nil} {:type :entry, :x 7, :y 8, :value nil} {:type :entry, :x 8, :y 8, :value nil} {:type :entry, :x 9, :y 8, :value nil} {:type :entry, :x 10, :y 8, :value nil} {:type :entry, :x 11, :y 8, :value nil} {:type :flag, :x 12, :y 8, :flags {:down {:sum 17, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 8, :flags {:down {:sum 8, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :black, :y 9, :x 0, :value nil} {:type :black, :y 9, :x 1, :value nil} {:type :flag, :x 2, :y 9, :flags {:down {:sum 23, :distance 1}, :right {:sum 14, :distance 4}}, :value nil} {:type :entry, :x 3, :y 9, :value nil} {:type :entry, :x 4, :y 9, :value nil} {:type :entry, :x 5, :y 9, :value nil} {:type :entry, :x 6, :y 9, :value nil} {:type :flag, :x 7, :y 9, :flags {:down {:sum 16, :distance 1}, :right {:sum 16, :distance 2}}, :value nil} {:type :entry, :x 8, :y 9, :value nil} {:type :entry, :x 9, :y 9, :value nil} {:type :flag, :x 10, :y 9, :flags {:down {:sum 8, :distance 1}, :right {:sum 24, :distance 0}}, :value nil} {:type :entry, :x 11, :y 9, :value nil} {:type :entry, :x 12, :y 9, :value nil} {:type :entry, :x 13, :y 9, :value nil}] [{:type :black, :y 10, :x 0, :value nil} {:type :flag, :x 1, :y 10, :flags {:down {:sum 8, :distance 0}, :right {:sum 10, :distance 3}}, :value nil} {:type :entry, :x 2, :y 10, :value nil} {:type :entry, :x 3, :y 10, :value nil} {:type :entry, :x 4, :y 10, :value nil} {:type :flag, :x 5, :y 10, :flags {:down {:sum 10, :distance 0}, :right {:sum 15, :distance 2}}, :value nil} {:type :entry, :x 6, :y 10, :value nil} {:type :entry, :x 7, :y 10, :value nil} {:type :flag, :x 8, :y 10, :flags {:down {:sum 20, :distance 0}, :right {:sum 6, :distance 2}}, :value nil} {:type :entry, :x 9, :y 10, :value nil} {:type :entry, :x 10, :y 10, :value nil} {:type :flag, :x 11, :y 10, :flags {:down {:sum 10, :distance nil}, :right {:sum 9, :distance nil}}} {:type :entry, :x 12, :y 10, :value nil} {:type :entry, :x 13, :y 10, :value nil}] [{:type :flag, :x 0, :y 11, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 1, :y 11, :value nil} {:type :entry, :x 2, :y 11, :value nil} {:type :flag, :x 3, :y 11, :flags {:down {:sum 5, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 4, :y 11, :value nil} {:type :entry, :x 5, :y 11, :value nil} {:type :flag, :x 6, :y 11, :flags {:down {:sum 12, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 7, :y 11, :value nil} {:type :entry, :x 8, :y 11, :value nil} {:type :flag, :x 9, :y 11, :flags {:down {:sum 12, :distance nil}, :right {:sum 8, :distance nil}}} {:type :entry, :x 10, :y 11, :value nil} {:type :entry, :x 11, :y 11, :value nil} {:type :flag, :x 12, :y 11, :flags {:down {:sum 13, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 13, :y 11, :flags {:down {:sum 15, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 28, :distance nil}}} {:type :entry, :x 1, :y 12, :value nil} {:type :entry, :x 2, :y 12, :value nil} {:type :entry, :x 3, :y 12, :value nil} {:type :entry, :x 4, :y 12, :value nil} {:type :entry, :x 5, :y 12, :value nil} {:type :entry, :x 6, :y 12, :value nil} {:type :flag, :x 7, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 8, :y 12, :value nil} {:type :entry, :x 9, :y 12, :value nil} {:type :flag, :x 10, :y 12, :flags {:down {:sum 0, :distance nil}, :right {:sum 21, :distance nil}}} {:type :entry, :x 11, :y 12, :value nil} {:type :entry, :x 12, :y 12, :value nil} {:type :entry, :x 13, :y 12, :value nil}] [{:type :black, :y 13, :x 0} {:type :flag, :x 1, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 5, :distance nil}}} {:type :entry, :x 2, :y 13, :value nil} {:type :entry, :x 3, :y 13, :value nil} {:type :flag, :x 4, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 5, :y 13, :value nil} {:type :entry, :x 6, :y 13, :value nil} {:type :flag, :x 7, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 13, :distance nil}}} {:type :entry, :x 8, :y 13, :value nil} {:type :entry, :x 9, :y 13, :value nil} {:type :black, :y 13, :x 10} {:type :flag, :x 11, :y 13, :flags {:down {:sum 0, :distance nil}, :right {:sum 16, :distance nil}}} {:type :entry, :x 12, :y 13, :value nil} {:type :entry, :x 13, :y 13, :value nil}]])
(def ftbs-b1-2 '([:d 1 0 16 2] [:d 2 0 9 2] [:d 5 0 17 2] [:d 6 0 19 3] [:d 8 0 3 2] [:d 9 0 16 3] [:d 11 0 4 2] [:d 12 0 20 4] [:r 0 1 16 2] [:d 3 1 5 2] [:r 4 1 11 2] [:r 7 1 3 2] [:d 10 1 19 4 :r 10 1 6 2] [:d 13 1 10 2] [:r 0 2 13 3] [:d 4 2 3 2 :r 4 2 16 2] [:d 7 2 10 2 :r 7 2 35 6] [:d 1 3 11 2] [:d 2 3 3 2 :r 2 3 3 2] [:d 5 3 15 3 :r 5 3 17 2] [:d 8 3 37 6 :r 8 3 17 2] [:d 11 3 7 2 :r 11 3 5 2] [:r 0 4 11 2] [:d 3 4 8 3 :r 3 4 10 2] [:d 6 4 31 6 :r 6 4 10 2] [:d 9 4 9 2 :r 9 4 9 3] [:r 0 5 7 3] [:d 4 5 12 2 :r 4 5 13 2] [:d 7 5 8 3 :r 7 5 21 4] [:d 12 5 3 2] [:d 13 5 11 2] [:d 1 6 15 2] [:d 2 6 9 2 :r 2 6 34 7] [:d 10 6 17 2] [:d 11 6 19 3 :r 11 6 11 2] [:r 0 7 14 4] [:d 5 7 3 2 :r 5 7 7 3] [:d 9 7 22 3 :r 9 7 16 4] [:r 0 8 14 2] [:d 3 8 14 2] [:d 4 8 14 4 :r 4 8 33 7] [:d 12 8 17 2] [:d 13 8 8 2] [:d 2 9 23 4 :r 2 9 14 4] [:d 7 9 16 2 :r 7 9 16 2] [:d 10 9 8 2 :r 10 9 24 3] [:d 1 10 8 2 :r 1 10 10 3] [:d 5 10 10 3 :r 5 10 15 2] [:d 8 10 20 3 :r 8 10 6 2] [:d 11 10 10 2 :r 11 10 9 2] [:r 0 11 16 2] [:d 3 11 5 2 :r 3 11 10 2] [:d 6 11 12 2 :r 6 11 10 2] [:d 9 11 12 2 :r 9 11 8 2] [:d 12 11 13 2] [:d 13 11 15 2] [:r 0 12 28 6] [:r 7 12 16 2] [:r 10 12 21 3] [:r 1 13 5 2] [:r 4 13 7 2] [:r 7 13 13 2] [:r 11 13 16 2]))

;; yes
;; 7
(def b2 [[{:type :black, :x 0, :y 0} {:type :flag, :x 1, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 0, :flags {:down {:sum 6, :distance 2}, :right {:sum 0, :distance 0}}} {:type :black, :x 3, :y 0} {:type :black, :x 4, :y 0} {:type :flag, :x 5, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 6, :y 0, :flags {:down {:sum 11, :distance 3}, :right {:sum 0, :distance 0}}}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 1, :y 1} {:type :entry, :x 2, :y 1} {:type :flag, :x 3, :y 1, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}} {:type :entry, :x 1, :y 2} {:type :entry, :x 2, :y 2} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 8, :distance 2}, :right {:sum 7, :distance 2}}} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil}] [{:type :black, :y 3, :x 0} {:type :flag, :x 1, :y 3, :flags {:down {:sum 9, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 3, :flags {:down {:sum 11, :distance 2}, :right {:sum 13, :distance 2}}} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 11, :distance 3}, :right {:sum 5, :distance 1}}} {:type :entry, :x 6, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 17, :distance 2}}} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 7, :distance 2}, :right {:sum 3, :distance 2}}} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 15, :distance 2}, :right {:sum 0, :distance 0}}}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance 0}, :right {:sum 6, :distance 3}}} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 5, :distance 1}, :right {:sum 13, :distance 2}}} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil}] [{:type :black, :y 6, :x 0} {:type :black, :y 6, :x 1} {:type :flag, :x 2, :y 6, :flags {:down {:sum 0, :distance 0}, :right {:sum 20, :distance 4}}} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil}]])
(def ftbs-b2 '([:d 1 0 4 2] [:d 2 0 6 2] [:d 5 0 4 2] [:d 6 0 11 3] [:r 0 1 3 2] [:d 3 1 11 2] [:r 4 1 3 2] [:r 0 2 12 3] [:d 4 2 8 2 :r 4 2 7 2] [:d 1 3 9 2] [:d 2 3 11 2 :r 2 3 13 2] [:d 5 3 11 3 :r 5 3 5 1] [:r 0 4 17 2] [:d 3 4 7 2 :r 3 4 3 2] [:d 6 4 15 2] [:r 0 5 6 3] [:d 4 5 5 1 :r 4 5 13 2] [:r 2 6 20 4]))

;; yes
;; 10
(def b3 [[{:type :black, :x 0, :y 0} {:type :flag, :x 1, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 0, :flags {:down {:sum 6, :distance 2}, :right {:sum 0, :distance 0}}} {:type :black, :x 3, :y 0} {:type :black, :x 4, :y 0} {:type :flag, :x 5, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 6, :y 0, :flags {:down {:sum 11, :distance 3}, :right {:sum 0, :distance 0}}} {:type :black, :x 7, :y 0} {:type :flag, :x 8, :y 0, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 9, :y 0, :flags {:down {:sum 11, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 1, :y 1} {:type :entry, :x 2, :y 1} {:type :flag, :x 3, :y 1, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil} {:type :flag, :x 7, :y 1, :flags {:down {:sum 0, :distance nil}, :right {:sum 3, :distance nil}}} {:type :entry, :x 8, :y 1, :value nil} {:type :entry, :x 9, :y 1, :value nil}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}} {:type :entry, :x 1, :y 2} {:type :entry, :x 2, :y 2} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 8, :distance 2}, :right {:sum 7, :distance 2}}} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil} {:type :flag, :x 7, :y 2, :flags {:down {:sum 13, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 8, :y 2, :value nil} {:type :entry, :x 9, :y 2, :value nil}] [{:type :black, :y 3, :x 0} {:type :flag, :x 1, :y 3, :flags {:down {:sum 9, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 3, :flags {:down {:sum 11, :distance 2}, :right {:sum 13, :distance 2}}} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 11, :distance 3}, :right {:sum 5, :distance 1}}} {:type :entry, :x 6, :y 3, :value nil} {:type :entry, :x 7, :y 3, :value nil} {:type :flag, :x 8, :y 3, :flags {:down {:sum 21, :distance nil}, :right {:sum 5, :distance nil}}} {:type :entry, :x 9, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 17, :distance 2}}} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 13, :distance 2}, :right {:sum 3, :distance 2}}} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 35, :distance 2}, :right {:sum 11, :distance 0}}} {:type :entry, :x 7, :y 4, :value nil} {:type :entry, :x 8, :y 4, :value nil} {:type :flag, :x 9, :y 4, :flags {:down {:sum 13, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance 0}, :right {:sum 6, :distance 3}}} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 8, :distance 1}, :right {:sum 13, :distance 2}}} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil} {:type :flag, :x 7, :y 5, :flags {:down {:sum 11, :distance nil}, :right {:sum 12, :distance nil}}} {:type :entry, :x 8, :y 5, :value nil} {:type :entry, :x 9, :y 5, :value nil}] [{:type :black, :y 6, :x 0} {:type :flag, :x 1, :y 6, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 2, :y 6, :flags {:down {:sum 6, :distance 0}, :right {:sum 29, :distance 4}}} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil} {:type :entry, :x 7, :y 6, :value nil} {:type :entry, :x 8, :y 6, :value nil} {:type :entry, :x 9, :y 6, :value nil}] [{:type :flag, :x 0, :y 7, :flags {:down {:sum 0, :distance nil}, :right {:sum 12, :distance nil}}} {:type :entry, :x 1, :y 7, :value nil} {:type :entry, :x 2, :y 7, :value nil} {:type :entry, :x 3, :y 7, :value nil} {:type :entry, :x 4, :y 7, :value nil} {:type :flag, :x 5, :y 7, :flags {:down {:sum 7, :distance nil}, :right {:sum 20, :distance nil}}} {:type :entry, :x 6, :y 7, :value nil} {:type :entry, :x 7, :y 7, :value nil} {:type :entry, :x 8, :y 7, :value nil} {:type :flag, :x 9, :y 7, :flags {:down {:sum 11, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 8, :flags {:down {:sum 0, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 1, :y 8, :value nil} {:type :entry, :x 2, :y 8, :value nil} {:type :flag, :x 3, :y 8, :flags {:down {:sum 1, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 4, :y 8, :flags {:down {:sum 2, :distance nil}, :right {:sum 15, :distance nil}}} {:type :entry, :x 5, :y 8, :value nil} {:type :entry, :x 6, :y 8, :value nil} {:type :entry, :x 7, :y 8, :value nil} {:type :entry, :x 8, :y 8, :value nil} {:type :entry, :x 9, :y 8, :value nil}] [{:type :black, :y 9, :x 0} {:type :black, :y 9, :x 1} {:type :flag, :x 2, :y 9, :flags {:down {:sum 0, :distance nil}, :right {:sum 12, :distance nil}}} {:type :entry, :x 3, :y 9, :value nil} {:type :entry, :x 4, :y 9, :value nil} {:type :entry, :x 5, :y 9, :value nil} {:type :entry, :x 6, :y 9, :value nil} {:type :flag, :x 7, :y 9, :flags {:down {:sum 0, :distance nil}, :right {:sum 14, :distance nil}}} {:type :entry, :x 8, :y 9, :value nil} {:type :entry, :x 9, :y 9, :value nil}]])
(def ftbs-b3 '([:d 1 0 4 2] [:d 2 0 6 2] [:d 5 0 4 2] [:d 6 0 11 3] [:d 8 0 4 2] [:d 9 0 11 3] [:r 0 1 3 2] [:d 3 1 11 2] [:r 4 1 3 2] [:r 7 1 3 2] [:r 0 2 12 3] [:d 4 2 8 2 :r 4 2 7 2] [:d 7 2 13 2 :r 7 2 7 2] [:d 1 3 9 2] [:d 2 3 11 2 :r 2 3 13 2] [:d 5 3 11 3 :r 5 3 5 2] [:d 8 3 21 6 :r 8 3 5 1] [:r 0 4 17 2] [:d 3 4 13 3 :r 3 4 3 2] [:d 6 4 35 5 :r 6 4 11 2] [:d 9 4 13 2] [:r 0 5 6 3] [:d 4 5 8 2 :r 4 5 13 2] [:d 7 5 11 3 :r 7 5 12 2] [:d 1 6 4 2] [:d 2 6 6 2 :r 2 6 29 7] [:r 0 7 12 4] [:d 5 7 7 2 :r 5 7 20 3] [:d 9 7 11 2] [:r 0 8 7 2] [:d 3 8 1 1] [:d 4 8 2 1 :r 4 8 15 5] [:r 2 9 12 4] [:r 7 9 14 2]))

;; yes
;; 8
(def b4 [[{:type :black, :x 0, :y 0, :value nil} {:type :flag, :x 1, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 0, :flags {:down {:sum 6, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 3, :y 0, :value nil} {:type :black, :x 4, :y 0, :value nil} {:type :flag, :x 5, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 6, :y 0, :flags {:down {:sum 11, :distance 3}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 7, :y 0, :value nil}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 1, :y 1, :value nil} {:type :entry, :x 2, :y 1, :value nil} {:type :flag, :x 3, :y 1, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil} {:type :black, :x 7, :y 1, :value nil}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}, :value nil} {:type :entry, :x 1, :y 2, :value nil} {:type :entry, :x 2, :y 2, :value nil} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 8, :distance 2}, :right {:sum 7, :distance 2}}, :value nil} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil} {:type :flag, :x 7, :y 2, :flags {:down {:sum 13, :distance 2}, :right {:sum 7, :distance 0}}, :value nil}] [{:type :black, :y 3, :x 0, :value nil} {:type :flag, :x 1, :y 3, :flags {:down {:sum 9, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 3, :flags {:down {:sum 11, :distance 2}, :right {:sum 13, :distance 2}}, :value nil} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 11, :distance 3}, :right {:sum 11, :distance 2}}, :value nil} {:type :entry, :x 6, :y 3, :value nil} {:type :entry, :x 7, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 17, :distance 2}}, :value nil} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 13, :distance 3}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 24, :distance 3}, :right {:sum 7, :distance 1}}, :value nil} {:type :entry, :x 7, :y 4, :value nil}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance 0}, :right {:sum 6, :distance 3}}, :value nil} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 8, :distance 2}, :right {:sum 13, :distance 2}}, :value nil} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil} {:type :flag, :x 7, :y 5, :flags {:down {:sum 9, :distance 2}, :right {:sum 12, :distance 0}}, :value nil}] [{:type :black, :y 6, :x 0, :value nil} {:type :flag, :x 1, :y 6, :flags {:down {:sum 1, :distance 1}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 6, :flags {:down {:sum 2, :distance 1}, :right {:sum 21, :distance 5}}, :value nil} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil} {:type :entry, :x 7, :y 6, :value nil}] [{:type :flag, :x 0, :y 7, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 4}}, :value nil} {:type :entry, :x 1, :y 7, :value nil} {:type :entry, :x 2, :y 7, :value nil} {:type :entry, :x 3, :y 7, :value nil} {:type :entry, :x 4, :y 7, :value nil} {:type :flag, :x 5, :y 7, :flags {:down {:sum 7, :distance 0}, :right {:sum 17, :distance 2}}, :value nil} {:type :entry, :x 6, :y 7, :value nil} {:type :entry, :x 7, :y 7, :value nil}]])
(def ftbs-b4 '([:d 1 0 4 2] [:d 2 0 6 2] [:d 5 0 4 2] [:d 6 0 11 3] [:r 0 1 3 2] [:d 3 1 11 2] [:r 4 1 3 2] [:r 0 2 12 3] [:d 4 2 8 2 :r 4 2 7 2] [:d 7 2 13 2] [:d 1 3 9 2] [:d 2 3 11 2 :r 2 3 13 2] [:d 5 3 11 3 :r 5 3 11 2] [:r 0 4 17 2] [:d 3 4 13 3 :r 3 4 3 2] [:d 6 4 24 3 :r 6 4 7 1] [:r 0 5 6 3] [:d 4 5 8 2 :r 4 5 13 2] [:d 7 5 9 2] [:d 1 6 1 1] [:d 2 6 2 1 :r 2 6 21 5] [:r 0 7 12 4] [:r 5 7 17 2]))

;; yes
;; 5
(def b5 [[{:type :black, :x 0, :y 0, :value nil} {:type :flag, :x 1, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 0, :flags {:down {:sum 6, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 3, :y 0, :value nil} {:type :black, :x 4, :y 0, :value nil}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}, :value nil} {:type :entry, :x 1, :y 1, :value nil} {:type :entry, :x 2, :y 1, :value nil} {:type :flag, :x 3, :y 1, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}, :value nil} {:type :black, :x 4, :y 1, :value nil}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}, :value nil} {:type :entry, :x 1, :y 2, :value nil} {:type :entry, :x 2, :y 2, :value nil} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 8, :distance 2}, :right {:sum 7, :distance 0}}, :value nil}] [{:type :black, :y 3, :x 0, :value nil} {:type :flag, :x 1, :y 3, :flags {:down {:sum 8, :distance 1}, :right {:sum 0, :distance 0}}, :value nil} {:type :flag, :x 2, :y 3, :flags {:down {:sum 9, :distance 1}, :right {:sum 13, :distance 2}}, :value nil} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 17, :distance 2}}, :value nil} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 7, :distance 0}, :right {:sum 1, :distance 1}}, :value nil} {:type :entry, :x 4, :y 4, :value nil}]])
(def ftbs-b5 '([:d 1 0 4 2] [:d 2 0 6 2] [:r 0 1 3 2] [:d 3 1 11 2] [:r 0 2 12 3] [:d 4 2 8 2] [:d 1 3 8 1] [:d 2 3 9 1 :r 2 3 13 2] [:r 0 4 17 2] [:r 3 4 1 1]))

;; yes
;; 11
(def b6 [[{:type :black, :x 0, :y 0} {:type :flag, :x 1, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 0, :flags {:down {:sum 6, :distance 2}, :right {:sum 0, :distance 0}}} {:type :black, :x 3, :y 0} {:type :black, :x 4, :y 0} {:type :flag, :x 5, :y 0, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 6, :y 0, :flags {:down {:sum 11, :distance 3}, :right {:sum 0, :distance 0}}} {:type :black, :x 7, :y 0} {:type :flag, :x 8, :y 0, :flags {:down {:sum 3, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 9, :y 0, :flags {:down {:sum 12, :distance nil}, :right {:sum 0, :distance nil}}} {:type :black, :x 10, :y 0}] [{:type :flag, :x 0, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 1, :y 1} {:type :entry, :x 2, :y 1} {:type :flag, :x 3, :y 1, :flags {:down {:sum 11, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 4, :y 1, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 5, :y 1, :value nil} {:type :entry, :x 6, :y 1, :value nil} {:type :flag, :x 7, :y 1, :flags {:down {:sum 0, :distance nil}, :right {:sum 4, :distance nil}}} {:type :entry, :x 8, :y 1, :value nil} {:type :entry, :x 9, :y 1, :value nil} {:type :flag, :x 10, :y 1, :flags {:down {:sum 12, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 2, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}} {:type :entry, :x 1, :y 2} {:type :entry, :x 2, :y 2} {:type :entry, :x 3, :y 2, :value nil} {:type :flag, :x 4, :y 2, :flags {:down {:sum 15, :distance 2}, :right {:sum 7, :distance 2}}} {:type :entry, :x 5, :y 2, :value nil} {:type :entry, :x 6, :y 2, :value nil} {:type :flag, :x 7, :y 2, :flags {:down {:sum 13, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 8, :y 2, :value nil} {:type :entry, :x 9, :y 2, :value nil} {:type :entry, :x 10, :y 2, :value nil}] [{:type :black, :y 3, :x 0} {:type :flag, :x 1, :y 3, :flags {:down {:sum 4, :distance 2}, :right {:sum 0, :distance 0}}} {:type :flag, :x 2, :y 3, :flags {:down {:sum 6, :distance 2}, :right {:sum 13, :distance 2}}} {:type :entry, :x 3, :y 3, :value nil} {:type :entry, :x 4, :y 3, :value nil} {:type :flag, :x 5, :y 3, :flags {:down {:sum 13, :distance 3}, :right {:sum 11, :distance 1}}} {:type :entry, :x 6, :y 3, :value nil} {:type :entry, :x 7, :y 3, :value nil} {:type :flag, :x 8, :y 3, :flags {:down {:sum 28, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 9, :y 3, :value nil} {:type :entry, :x 10, :y 3, :value nil}] [{:type :flag, :x 0, :y 4, :flags {:down {:sum 0, :distance 0}, :right {:sum 3, :distance 2}}} {:type :entry, :x 1, :y 4, :value nil} {:type :entry, :x 2, :y 4, :value nil} {:type :flag, :x 3, :y 4, :flags {:down {:sum 20, :distance 2}, :right {:sum 17, :distance 2}}} {:type :entry, :x 4, :y 4, :value nil} {:type :entry, :x 5, :y 4, :value nil} {:type :flag, :x 6, :y 4, :flags {:down {:sum 21, :distance 2}, :right {:sum 15, :distance 0}}} {:type :entry, :x 7, :y 4, :value nil} {:type :entry, :x 8, :y 4, :value nil} {:type :flag, :x 9, :y 4, :flags {:down {:sum 9, :distance nil}, :right {:sum 4, :distance nil}}} {:type :entry, :x 10, :y 4, :value nil}] [{:type :flag, :x 0, :y 5, :flags {:down {:sum 0, :distance 0}, :right {:sum 12, :distance 3}}} {:type :entry, :x 1, :y 5, :value nil} {:type :entry, :x 2, :y 5, :value nil} {:type :entry, :x 3, :y 5, :value nil} {:type :flag, :x 4, :y 5, :flags {:down {:sum 15, :distance 1}, :right {:sum 3, :distance 2}}} {:type :entry, :x 5, :y 5, :value nil} {:type :entry, :x 6, :y 5, :value nil} {:type :flag, :x 7, :y 5, :flags {:down {:sum 7, :distance nil}, :right {:sum 12, :distance nil}}} {:type :entry, :x 8, :y 5, :value nil} {:type :entry, :x 9, :y 5, :value nil} {:type :entry, :x 10, :y 5, :value nil}] [{:type :black, :y 6, :x 0} {:type :flag, :x 1, :y 6, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 2, :y 6, :flags {:down {:sum 6, :distance 0}, :right {:sum 28, :distance 4}}} {:type :entry, :x 3, :y 6, :value nil} {:type :entry, :x 4, :y 6, :value nil} {:type :entry, :x 5, :y 6, :value nil} {:type :entry, :x 6, :y 6, :value nil} {:type :entry, :x 7, :y 6, :value nil} {:type :entry, :x 8, :y 6, :value nil} {:type :entry, :x 9, :y 6, :value nil} {:type :flag, :x 10, :y 6, :flags {:down {:sum 3, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :flag, :x 0, :y 7, :flags {:down {:sum 0, :distance nil}, :right {:sum 20, :distance nil}}} {:type :entry, :x 1, :y 7, :value nil} {:type :entry, :x 2, :y 7, :value nil} {:type :entry, :x 3, :y 7, :value nil} {:type :entry, :x 4, :y 7, :value nil} {:type :flag, :x 5, :y 7, :flags {:down {:sum 13, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 6, :y 7, :value nil} {:type :entry, :x 7, :y 7, :value nil} {:type :entry, :x 8, :y 7, :value nil} {:type :flag, :x 9, :y 7, :flags {:down {:sum 6, :distance nil}, :right {:sum 1, :distance nil}}} {:type :entry, :x 10, :y 7, :value nil}] [{:type :flag, :x 0, :y 8, :flags {:down {:sum 0, :distance nil}, :right {:sum 7, :distance nil}}} {:type :entry, :x 1, :y 8, :value nil} {:type :entry, :x 2, :y 8, :value nil} {:type :flag, :x 3, :y 8, :flags {:down {:sum 6, :distance nil}, :right {:sum 0, :distance nil}}} {:type :flag, :x 4, :y 8, :flags {:down {:sum 8, :distance nil}, :right {:sum 21, :distance nil}}} {:type :entry, :x 5, :y 8, :value nil} {:type :entry, :x 6, :y 8, :value nil} {:type :entry, :x 7, :y 8, :value nil} {:type :entry, :x 8, :y 8, :value nil} {:type :entry, :x 9, :y 8, :value nil} {:type :entry, :x 10, :y 8, :value nil}] [{:type :black, :y 9, :x 0} {:type :black, :y 9, :x 1} {:type :flag, :x 2, :y 9, :flags {:down {:sum 1, :distance nil}, :right {:sum 18, :distance nil}}} {:type :entry, :x 3, :y 9, :value nil} {:type :entry, :x 4, :y 9, :value nil} {:type :entry, :x 5, :y 9, :value nil} {:type :entry, :x 6, :y 9, :value nil} {:type :flag, :x 7, :y 9, :flags {:down {:sum 1, :distance nil}, :right {:sum 9, :distance nil}}} {:type :entry, :x 8, :y 9, :value nil} {:type :entry, :x 9, :y 9, :value nil} {:type :flag, :x 10, :y 9, :flags {:down {:sum 4, :distance nil}, :right {:sum 0, :distance nil}}}] [{:type :black, :y 10, :x 0} {:type :flag, :x 1, :y 10, :flags {:down {:sum 0, :distance nil}, :right {:sum 10, :distance nil}}} {:type :entry, :x 2, :y 10, :value nil} {:type :entry, :x 3, :y 10, :value nil} {:type :entry, :x 4, :y 10, :value nil} {:type :flag, :x 5, :y 10, :flags {:down {:sum 0, :distance nil}, :right {:sum 6, :distance nil}}} {:type :entry, :x 6, :y 10, :value nil} {:type :entry, :x 7, :y 10, :value nil} {:type :flag, :x 8, :y 10, :flags {:down {:sum 0, :distance nil}, :right {:sum 6, :distance nil}}} {:type :entry, :x 9, :y 10, :value nil} {:type :entry, :x 10, :y 10, :value nil}]])
(def ftbs-b6 '([:d 1 0 4 2] [:d 2 0 6 2] [:d 5 0 4 2] [:d 6 0 11 3] [:d 8 0 3 2] [:d 9 0 12 3] [:r 0 1 3 2] [:d 3 1 11 2] [:r 4 1 3 2] [:r 7 1 4 2] [:d 10 1 12 4] [:r 0 2 12 3] [:d 4 2 15 2 :r 4 2 7 2] [:d 7 2 13 2 :r 7 2 7 3] [:d 1 3 4 2] [:d 2 3 6 2 :r 2 3 13 2] [:d 5 3 13 3 :r 5 3 11 2] [:d 8 3 28 6 :r 8 3 7 2] [:r 0 4 3 2] [:d 3 4 20 3 :r 3 4 17 2] [:d 6 4 21 6 :r 6 4 15 2] [:d 9 4 9 2 :r 9 4 4 1] [:r 0 5 12 3] [:d 4 5 15 2 :r 4 5 3 2] [:d 7 5 7 3 :r 7 5 12 3] [:d 1 6 4 2] [:d 2 6 6 2 :r 2 6 28 7] [:d 10 6 3 2] [:r 0 7 20 4] [:d 5 7 13 2 :r 5 7 7 3] [:d 9 7 6 3 :r 9 7 1 1] [:r 0 8 7 2] [:d 3 8 6 2] [:d 4 8 8 2 :r 4 8 21 6] [:d 2 9 1 1 :r 2 9 18 4] [:d 7 9 1 1 :r 7 9 9 2] [:d 10 9 4 1] [:r 1 10 10 3] [:r 5 10 6 2] [:r 8 10 6 2]))